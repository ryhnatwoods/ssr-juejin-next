{"ast":null,"code":"var _regeneratorRuntime = require(\"@babel/runtime-corejs2/regenerator\");\n\nvar _JSON$stringify = require(\"@babel/runtime-corejs2/core-js/json/stringify\");\n\nvar Axios = require('axios');\n\nvar Service = require('./service');\n\nvar beautify = require(\"json-beautify\");\n\nvar axiosInstance = Axios.create({\n  headers: {\n    'X-Requested-With': 'XMLHttpRequest',\n    'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/79.0.3945.88 Safari/537.36',\n    'Referer': 'http://e.xitu.io/'\n  }\n});\n\nvar Request = function Request(serviceName, methodName, log) {\n  console.log(Service[serviceName][methodName], methodName);\n  return function _callee(params) {\n    var result;\n    return _regeneratorRuntime.async(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            console.log(_JSON$stringify(params));\n            _context.next = 3;\n            return _regeneratorRuntime.awrap(Service[serviceName][methodName](axiosInstance, params, log));\n\n          case 3:\n            result = _context.sent;\n            return _context.abrupt(\"return\", result);\n\n          case 5:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    });\n  };\n};\n\nRequest.getApiConfig = function () {\n  return {\n    api: {\n      bodyParser: {\n        sizeLimit: '1mb'\n      }\n    }\n  };\n};\n\nRequest.formatResponse = function (res) {\n  return beautify(res, null, 2, 100);\n};\n\nvar clientAxios = Axios.create({\n  baseURL: \"/\"\n});\n\nRequest.getClientAxiosInstance = function () {\n  return clientAxios;\n};\n\nmodule.exports = Request;","map":{"version":3,"sources":["/Users/wangning/Desktop/ssr-juejin-next/request.js"],"names":["Axios","require","Service","beautify","axiosInstance","create","headers","Request","serviceName","methodName","log","console","params","result","getApiConfig","api","bodyParser","sizeLimit","formatResponse","res","clientAxios","baseURL","getClientAxiosInstance","module","exports"],"mappings":";;;;AAAA,IAAMA,KAAK,GAAGC,OAAO,CAAC,OAAD,CAArB;;AACA,IAAMC,OAAO,GAAGD,OAAO,CAAC,WAAD,CAAvB;;AACA,IAAME,QAAQ,GAAGF,OAAO,CAAC,eAAD,CAAxB;;AACA,IAAMG,aAAa,GAAGJ,KAAK,CAACK,MAAN,CAAa;AAC/BC,EAAAA,OAAO,EAAE;AAAC,wBAAoB,gBAArB;AAAsC,kBAAc,oHAApD;AAA0K,eAAW;AAArL;AADsB,CAAb,CAAtB;;AAIA,IAAMC,OAAO,GAAG,SAAVA,OAAU,CAASC,WAAT,EAAsBC,UAAtB,EAAkCC,GAAlC,EAAuC;AACnDC,EAAAA,OAAO,CAACD,GAAR,CAAYR,OAAO,CAACM,WAAD,CAAP,CAAqBC,UAArB,CAAZ,EAA8CA,UAA9C;AACA,SAAO,iBAAeG,MAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AACHD,YAAAA,OAAO,CAACD,GAAR,CAAY,gBAAeE,MAAf,CAAZ;AADG;AAAA,6CAEkBV,OAAO,CAACM,WAAD,CAAP,CAAqBC,UAArB,EAAiCL,aAAjC,EAAgDQ,MAAhD,EAAwDF,GAAxD,CAFlB;;AAAA;AAEGG,YAAAA,MAFH;AAAA,6CAGIA,MAHJ;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAP;AAKH,CAPD;;AASAN,OAAO,CAACO,YAAR,GAAuB,YAAM;AACzB,SAAO;AACHC,IAAAA,GAAG,EAAE;AACHC,MAAAA,UAAU,EAAE;AACVC,QAAAA,SAAS,EAAE;AADD;AADT;AADF,GAAP;AAOH,CARD;;AAUAV,OAAO,CAACW,cAAR,GAAyB,UAACC,GAAD,EAAS;AAC9B,SAAOhB,QAAQ,CAACgB,GAAD,EAAM,IAAN,EAAY,CAAZ,EAAe,GAAf,CAAf;AACH,CAFD;;AAIA,IAAMC,WAAW,GAAGpB,KAAK,CAACK,MAAN,CAAa;AAC7BgB,EAAAA,OAAO,EAAE;AADoB,CAAb,CAApB;;AAGAd,OAAO,CAACe,sBAAR,GAAiC,YAAM;AACnC,SAAOF,WAAP;AACH,CAFD;;AAIAG,MAAM,CAACC,OAAP,GAAiBjB,OAAjB","sourcesContent":["const Axios = require('axios');\nconst Service = require('./service');\nconst beautify = require(\"json-beautify\");\nconst axiosInstance = Axios.create({\n    headers: {'X-Requested-With': 'XMLHttpRequest','User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/79.0.3945.88 Safari/537.36', 'Referer': 'http://e.xitu.io/'}\n});\n\nconst Request = function(serviceName, methodName, log) {\n    console.log(Service[serviceName][methodName], methodName);\n    return async function(params) {\n        console.log(JSON.stringify(params));\n        const result = await Service[serviceName][methodName](axiosInstance, params, log);\n        return result;\n    }\n}\n\nRequest.getApiConfig = () => {\n    return {\n        api: {\n          bodyParser: {\n            sizeLimit: '1mb',\n          },\n        },\n    }\n}\n\nRequest.formatResponse = (res) => {\n    return beautify(res, null, 2, 100)\n}\n\nconst clientAxios = Axios.create({\n    baseURL: \"/\"\n});\nRequest.getClientAxiosInstance = () => {\n    return clientAxios;\n}\n\nmodule.exports = Request;\n"]},"metadata":{},"sourceType":"script"}