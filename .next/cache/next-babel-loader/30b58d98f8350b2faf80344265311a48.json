{"ast":null,"code":"var _JSON$stringify = require(\"@babel/runtime-corejs2/core-js/json/stringify\");\n\nconst Axios = require('axios');\n\nconst Service = require('./service');\n\nconst beautify = require(\"json-beautify\");\n\nconst axiosInstance = Axios.create({\n  headers: {\n    'X-Requested-With': 'XMLHttpRequest',\n    'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/79.0.3945.88 Safari/537.36',\n    'Referer': 'http://e.xitu.io/'\n  }\n});\n\nconst Request = function (serviceName, methodName, log) {\n  console.log(Service[serviceName][methodName], methodName);\n  return async function (params) {\n    console.log(_JSON$stringify(params));\n    const result = await Service[serviceName][methodName](axiosInstance, params, log);\n    return result;\n  };\n};\n\nRequest.getApiConfig = () => {\n  return {\n    api: {\n      bodyParser: {\n        sizeLimit: '1mb'\n      }\n    }\n  };\n};\n\nRequest.formatResponse = res => {\n  return beautify(res, null, 2, 100);\n};\n\nconst clientAxios = Axios.create({\n  baseURL: \"/\"\n});\n\nRequest.getClientAxiosInstance = () => {\n  return clientAxios;\n};\n\nmodule.exports = Request;","map":{"version":3,"sources":["/Users/wangning/Desktop/ssr-juejin-next/request.js"],"names":["Axios","require","Service","beautify","axiosInstance","create","headers","Request","serviceName","methodName","log","console","params","result","getApiConfig","api","bodyParser","sizeLimit","formatResponse","res","clientAxios","baseURL","getClientAxiosInstance","module","exports"],"mappings":";;AAAA,MAAMA,KAAK,GAAGC,OAAO,CAAC,OAAD,CAArB;;AACA,MAAMC,OAAO,GAAGD,OAAO,CAAC,WAAD,CAAvB;;AACA,MAAME,QAAQ,GAAGF,OAAO,CAAC,eAAD,CAAxB;;AACA,MAAMG,aAAa,GAAGJ,KAAK,CAACK,MAAN,CAAa;AAC/BC,EAAAA,OAAO,EAAE;AAAC,wBAAoB,gBAArB;AAAsC,kBAAc,oHAApD;AAA0K,eAAW;AAArL;AADsB,CAAb,CAAtB;;AAIA,MAAMC,OAAO,GAAG,UAASC,WAAT,EAAsBC,UAAtB,EAAkCC,GAAlC,EAAuC;AACnDC,EAAAA,OAAO,CAACD,GAAR,CAAYR,OAAO,CAACM,WAAD,CAAP,CAAqBC,UAArB,CAAZ,EAA8CA,UAA9C;AACA,SAAO,gBAAeG,MAAf,EAAuB;AAC1BD,IAAAA,OAAO,CAACD,GAAR,CAAY,gBAAeE,MAAf,CAAZ;AACA,UAAMC,MAAM,GAAG,MAAMX,OAAO,CAACM,WAAD,CAAP,CAAqBC,UAArB,EAAiCL,aAAjC,EAAgDQ,MAAhD,EAAwDF,GAAxD,CAArB;AACA,WAAOG,MAAP;AACH,GAJD;AAKH,CAPD;;AASAN,OAAO,CAACO,YAAR,GAAuB,MAAM;AACzB,SAAO;AACHC,IAAAA,GAAG,EAAE;AACHC,MAAAA,UAAU,EAAE;AACVC,QAAAA,SAAS,EAAE;AADD;AADT;AADF,GAAP;AAOH,CARD;;AAUAV,OAAO,CAACW,cAAR,GAA0BC,GAAD,IAAS;AAC9B,SAAOhB,QAAQ,CAACgB,GAAD,EAAM,IAAN,EAAY,CAAZ,EAAe,GAAf,CAAf;AACH,CAFD;;AAIA,MAAMC,WAAW,GAAGpB,KAAK,CAACK,MAAN,CAAa;AAC7BgB,EAAAA,OAAO,EAAE;AADoB,CAAb,CAApB;;AAGAd,OAAO,CAACe,sBAAR,GAAiC,MAAM;AACnC,SAAOF,WAAP;AACH,CAFD;;AAIAG,MAAM,CAACC,OAAP,GAAiBjB,OAAjB","sourcesContent":["const Axios = require('axios');\nconst Service = require('./service');\nconst beautify = require(\"json-beautify\");\nconst axiosInstance = Axios.create({\n    headers: {'X-Requested-With': 'XMLHttpRequest','User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/79.0.3945.88 Safari/537.36', 'Referer': 'http://e.xitu.io/'}\n});\n\nconst Request = function(serviceName, methodName, log) {\n    console.log(Service[serviceName][methodName], methodName);\n    return async function(params) {\n        console.log(JSON.stringify(params));\n        const result = await Service[serviceName][methodName](axiosInstance, params, log);\n        return result;\n    }\n}\n\nRequest.getApiConfig = () => {\n    return {\n        api: {\n          bodyParser: {\n            sizeLimit: '1mb',\n          },\n        },\n    }\n}\n\nRequest.formatResponse = (res) => {\n    return beautify(res, null, 2, 100)\n}\n\nconst clientAxios = Axios.create({\n    baseURL: \"/\"\n});\nRequest.getClientAxiosInstance = () => {\n    return clientAxios;\n}\n\nmodule.exports = Request;\n"]},"metadata":{},"sourceType":"script"}