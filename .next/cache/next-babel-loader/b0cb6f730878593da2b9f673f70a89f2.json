{"ast":null,"code":"const path = require(\"path\");\n\nconst bunyan = require(\"bunyan\");\n\nconst log = bunyan.createLogger({\n  name: 'juejin-ssr',\n  serializers: {\n    req: reqSerializer\n  },\n  streams: [{\n    type: 'rotating-file',\n    path: path.join(__dirname, \"/Users/Public/test/next-learn-demo/E3-lazy-loading-components/api.log\"),\n    period: '1d',\n    // daily rotation\n    count: 3 // keep 3 back copies\n\n  }]\n});\n\nfunction reqSerializer(req) {\n  return {\n    method: req.method,\n    url: req.url,\n    headers: req.headers\n  };\n}\n\nmodule.exports = log;","map":{"version":3,"sources":["/Users/wangning/Desktop/ssr-juejin-next/Logger.js"],"names":["path","require","bunyan","log","createLogger","name","serializers","req","reqSerializer","streams","type","join","__dirname","period","count","method","url","headers","module","exports"],"mappings":"AAAA,MAAMA,IAAI,GAAGC,OAAO,CAAC,MAAD,CAApB;;AACA,MAAMC,MAAM,GAAGD,OAAO,CAAC,QAAD,CAAtB;;AACA,MAAME,GAAG,GAAGD,MAAM,CAACE,YAAP,CAAoB;AAC5BC,EAAAA,IAAI,EAAE,YADsB;AAE5BC,EAAAA,WAAW,EAAE;AACTC,IAAAA,GAAG,EAAEC;AADI,GAFe;AAK5BC,EAAAA,OAAO,EAAE,CAAC;AACNC,IAAAA,IAAI,EAAE,eADA;AAENV,IAAAA,IAAI,EAAEA,IAAI,CAACW,IAAL,CAAUC,SAAV,EAAqB,uEAArB,CAFA;AAGNC,IAAAA,MAAM,EAAE,IAHF;AAGU;AAChBC,IAAAA,KAAK,EAAE,CAJD,CAIU;;AAJV,GAAD;AALmB,CAApB,CAAZ;;AAaA,SAASN,aAAT,CAAuBD,GAAvB,EAA4B;AACxB,SAAO;AACHQ,IAAAA,MAAM,EAAER,GAAG,CAACQ,MADT;AAEHC,IAAAA,GAAG,EAAET,GAAG,CAACS,GAFN;AAGHC,IAAAA,OAAO,EAAEV,GAAG,CAACU;AAHV,GAAP;AAKH;;AAEDC,MAAM,CAACC,OAAP,GAAiBhB,GAAjB","sourcesContent":["const path = require(\"path\");\nconst bunyan = require(\"bunyan\");\nconst log = bunyan.createLogger({\n    name: 'juejin-ssr',\n    serializers: {\n        req: reqSerializer\n    },\n    streams: [{\n        type: 'rotating-file',\n        path: path.join(__dirname, \"/Users/Public/test/next-learn-demo/E3-lazy-loading-components/api.log\"),\n        period: '1d',   // daily rotation\n        count: 3        // keep 3 back copies\n    }]\n});\n\nfunction reqSerializer(req) {\n    return {\n        method: req.method,\n        url: req.url,\n        headers: req.headers\n    };\n}\n\nmodule.exports = log;"]},"metadata":{},"sourceType":"script"}