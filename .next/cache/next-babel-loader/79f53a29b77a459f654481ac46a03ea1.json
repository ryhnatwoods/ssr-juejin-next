{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime-corejs2/regenerator\";\nimport _JSON$stringify from \"@babel/runtime-corejs2/core-js/json/stringify\";\nimport _extends from \"@babel/runtime-corejs2/helpers/esm/extends\";\nvar _jsxFileName = \"/Users/wangning/Desktop/ssr-juejin-next/pages/index.js\";\nvar __jsx = React.createElement;\nimport Link from 'next/link';\nimport React from 'react';\nimport Layout from '../components/CommonLayout';\nimport LeftColumn from '../components/LeftColumn';\nimport RightColumn from '../components/RightColumn';\n\nvar Index = function Index(props) {\n  return __jsx(Layout, {\n    leftCol: __jsx(LeftColumn, _extends({}, props, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 9\n      },\n      __self: this\n    })),\n    rightCol: __jsx(RightColumn, _extends({}, props, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 9\n      },\n      __self: this\n    })),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 9\n    },\n    __self: this\n  });\n};\n\nIndex.getInitialProps = function _callee() {\n  var res1, article, res2, github;\n  return _regeneratorRuntime.async(function _callee$(_context) {\n    while (1) {\n      switch (_context.prev = _context.next) {\n        case 0:\n          _context.next = 2;\n          return _regeneratorRuntime.awrap(fetch('http://localhost:3000/api/getRecommendedArticals', {\n            method: 'POST',\n            headers: {\n              'Content-Type': 'application/json'\n            },\n            body: _JSON$stringify({\n              \"category\": \"ai\",\n              \"order\": \"heat\",\n              \"offset\": 0,\n              \"limit\": 30\n            })\n          }));\n\n        case 2:\n          res1 = _context.sent;\n          _context.next = 5;\n          return _regeneratorRuntime.awrap(res1.json());\n\n        case 5:\n          article = _context.sent;\n          _context.next = 8;\n          return _regeneratorRuntime.awrap(fetch('http://localhost:3000/api/getHighscoreGithub', {\n            method: 'POST',\n            headers: {\n              'Content-Type': 'application/json'\n            },\n            body: _JSON$stringify({\n              \"category\": \"trending\",\n              \"period\": \"day\",\n              \"lang\": \"css\",\n              \"offset\": 0,\n              \"limit\": 30\n            })\n          }));\n\n        case 8:\n          res2 = _context.sent;\n          _context.next = 11;\n          return _regeneratorRuntime.awrap(res2.json());\n\n        case 11:\n          github = _context.sent;\n          return _context.abrupt(\"return\", {\n            articles: article.data,\n            githubs: github.data\n          });\n\n        case 13:\n        case \"end\":\n          return _context.stop();\n      }\n    }\n  });\n};\n\nexport default Index;","map":{"version":3,"sources":["/Users/wangning/Desktop/ssr-juejin-next/pages/index.js"],"names":["Link","React","Layout","LeftColumn","RightColumn","Index","props","getInitialProps","fetch","method","headers","body","res1","json","article","res2","github","articles","data","githubs"],"mappings":";;;;;AAAA,OAAOA,IAAP,MAAiB,WAAjB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,MAAP,MAAmB,4BAAnB;AACA,OAAOC,UAAP,MAAuB,0BAAvB;AACA,OAAOC,WAAP,MAAwB,2BAAxB;;AAEA,IAAMC,KAAK,GAAG,SAARA,KAAQ,CAAAC,KAAK,EAAI;AACnB,SACI,MAAC,MAAD;AAAQ,IAAA,OAAO,EAAG,MAAC,UAAD,eAAgBA,KAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAlB;AAA8C,IAAA,QAAQ,EAAG,MAAC,WAAD,eAAiBA,KAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAzD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ;AAIH,CALD;;AAOAD,KAAK,CAACE,eAAN,GAAwB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,2CACDC,KAAK,CAAC,kDAAD,EAAqD;AACzEC,YAAAA,MAAM,EAAE,MADiE;AAEzEC,YAAAA,OAAO,EAAE;AACT,8BAAgB;AADP,aAFgE;AAKzEC,YAAAA,IAAI,EAAE,gBAAe;AAAC,0BAAW,IAAZ;AAAiB,uBAAQ,MAAzB;AAAgC,wBAAS,CAAzC;AAA2C,uBAAQ;AAAnD,aAAf;AALmE,WAArD,CADJ;;AAAA;AACdC,UAAAA,IADc;AAAA;AAAA,2CAQEA,IAAI,CAACC,IAAL,EARF;;AAAA;AAQdC,UAAAA,OARc;AAAA;AAAA,2CASDN,KAAK,CAAC,8CAAD,EAAiD;AACrEC,YAAAA,MAAM,EAAE,MAD6D;AAErEC,YAAAA,OAAO,EAAE;AACT,8BAAgB;AADP,aAF4D;AAKrEC,YAAAA,IAAI,EAAE,gBAAe;AAAC,0BAAW,UAAZ;AAAuB,wBAAS,KAAhC;AAAsC,sBAAO,KAA7C;AAAmD,wBAAS,CAA5D;AAA8D,uBAAQ;AAAtE,aAAf;AAL+D,WAAjD,CATJ;;AAAA;AASdI,UAAAA,IATc;AAAA;AAAA,2CAgBCA,IAAI,CAACF,IAAL,EAhBD;;AAAA;AAgBdG,UAAAA,MAhBc;AAAA,2CAiBb;AAAEC,YAAAA,QAAQ,EAAEH,OAAO,CAACI,IAApB;AAA0BC,YAAAA,OAAO,EAAEH,MAAM,CAACE;AAA1C,WAjBa;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,CAAxB;;AAoBA,eAAeb,KAAf","sourcesContent":["import Link from 'next/link'\nimport React from 'react'\nimport Layout from '../components/CommonLayout';\nimport LeftColumn from '../components/LeftColumn';\nimport RightColumn from '../components/RightColumn';\n\nconst Index = props => {\n    return (\n        <Layout leftCol={(<LeftColumn {...props} />)} rightCol={(<RightColumn {...props} />)}>\n        </Layout>\n    )\n}\n\nIndex.getInitialProps = async () => {\n    const res1 = await fetch('http://localhost:3000/api/getRecommendedArticals', {\n        method: 'POST',\n        headers: {\n        'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\"category\":\"ai\",\"order\":\"heat\",\"offset\":0,\"limit\":30})\n    })\n    const article = await res1.json()\n    const res2 = await fetch('http://localhost:3000/api/getHighscoreGithub', {\n        method: 'POST',\n        headers: {\n        'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\"category\":\"trending\",\"period\":\"day\",\"lang\":\"css\",\"offset\":0,\"limit\":30})\n    })\n    const github = await res2.json()\n    return { articles: article.data, githubs: github.data }\n}\n\nexport default Index;"]},"metadata":{},"sourceType":"module"}